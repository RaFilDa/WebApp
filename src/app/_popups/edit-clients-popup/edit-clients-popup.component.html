<!--TODO Přidávat do pole nikoliv mazat, a resetovat selection při každém pohybu-->

<div [style]="'width: ' + widthCalc() + 'px;' + 'height: ' + heightCalc() + 'px;'" fxLayout="column" fxLayoutAlign="space-between start" fxFlexFill>
  <div class="main_divs">
    <div fxLayout="row" fxLayoutAlign="space-between center">
      <b>Group: {{GroupName}}</b>
      <button mat-flat-button class="smallButton_popup" color="primary" mat-dialog-close=""><mat-icon class="small_popup">close</mat-icon></button>
    </div>

    <mat-divider></mat-divider>

    <div class="headers" fxLayout="row" fxLayoutAlign="space-between center">
      <b class="headers_text">All Clients</b>
      <b class="headers_text">Clients in Group</b>
    </div>

    <div class="selection-board">
      <div *ngFor="let item of selection;index as i" [class]="item.selected ? 'selected' : ''" (click)="toggleSelection(i)">
        <span>{{item.name}}</span>
        <mat-divider></mat-divider>
      </div>
    </div>

    <div class="set-buttons" fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="20px">
      <button mat-flat-button color="primary" (click)="setSelection()"><mat-icon>keyboard_arrow_right</mat-icon></button>
      <button mat-flat-button color="primary" (click)="unsetSelected()"><mat-icon>keyboard_arrow_left</mat-icon></button>
    </div>

    <div class="selected-board">
      <div *ngFor="let item of selected;index as i" [class]="item.selected ? 'selected' : ''" (click)="toggleSelected(i)">
        <span>{{item.name}}</span>
        <mat-divider></mat-divider>
      </div>
    </div>

  </div>
</div>
