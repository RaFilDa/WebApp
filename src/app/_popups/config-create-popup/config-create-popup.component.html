<div [style]="'width: ' + widthCalc() + 'px;' + 'height: ' + heightCalc() + 'px;'">
  <mat-toolbar class="toolbar" fxLayout="row" fxLayoutAlign="left space-evenly center">

    <mat-form-field class="toolbar-components">
      <input matInput type="text" placeholder="Name" style="width: 20%">
    </mat-form-field>

    <mat-form-field class="toolbar-components" fxFlexOffset="20px" color="primary">
      <mat-label>Intensity</mat-label>
      <mat-select #typeOfBackup value="Full">
        <mat-option value="Full">Full</mat-option>
        <mat-option value="Differential">Differential</mat-option>
        <mat-option value="Incremental">Incremental</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field [style.width.%]="5" class="toolbar-components" fxFlexOffset="20px" color="primary">
      <mat-label>Retention</mat-label>
      <input matInput type="number" min="1" max="30" [defaultValue]="3">
    </mat-form-field>

    <mat-form-field [style.width.%]="5" class="toolbar-components" fxFlexOffset="20px" color="primary" *ngIf="typeOfBackup.value!=='Full'">
      <mat-label>Packages</mat-label>
      <input matInput type="number" min="1" max="30" [defaultValue]="3">
    </mat-form-field>

    <mat-form-field class="toolbar-components" fxFlexOffset="20px" color="primary">
      <mat-label>Backup Type</mat-label>
      <mat-select>
        <mat-option value="Plain Text">Plain Text</mat-option>
        <mat-option value="Archive">Archive</mat-option>
      </mat-select>
    </mat-form-field>

    <span class="spacing"></span>
      <button mat-flat-button class="popupButton" color="primary" style="margin-top: 15px;" mat-dialog-close=""><mat-icon class="small">close</mat-icon></button>
  </mat-toolbar>

  <mat-card style="margin-top: 10px; background-color: whitesmoke;" fxLayout="row" fxLayoutAlign="start stretch">
    <div fxLayout="column" fxLayoutAlign="start start">
      <mat-form-field class="timing-components">
        <mat-select #typeOfTiming value="Daily">
          <mat-option value="Daily">Daily</mat-option>
          <mat-option value="Weekdays">Weekdays</mat-option>
          <mat-option value="Day in Month">Day in Month</mat-option>
          <mat-option value="CRON">CRON</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="timing-components" *ngIf="typeOfTiming.value!=='CRON'">
        <input matInput type="time">
      </mat-form-field>

      <mat-form-field class="timing-components">
        <mat-select value="UTC(+0)" placeholder="Timezone">
          <mat-option *ngFor="let timezone of Timezones" [value]="timezone">{{timezone}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div fxLayout="column" fxLayoutAlign="start start" *ngIf="typeOfTiming.value=='Weekdays'">
      <mat-checkbox color="primary">Monday</mat-checkbox>
      <mat-checkbox color="primary">Tuesday</mat-checkbox>
      <mat-checkbox color="primary">Wednesday</mat-checkbox>
      <mat-checkbox color="primary">Thursday</mat-checkbox>
      <mat-checkbox color="primary">Friday</mat-checkbox>
      <mat-checkbox color="primary">Saturday</mat-checkbox>
      <mat-checkbox color="primary">Sunday</mat-checkbox>
    </div>

    <div *ngIf="typeOfTiming.value=='Day in Month'" style="width: 350px;">
      <mat-grid-list cols="7" rowHeight="1:1">
        <mat-grid-tile *ngFor="let day of days; index as i">
          <button mat-mini-fab disableRipple class="mat-elevation-z1" [color]="isToggled(i) ? 'primary' : 'accent'" (click)="toggleButton(i)">{{i+1}}</button>
        </mat-grid-tile>
      </mat-grid-list>
    </div>

    <div *ngIf="typeOfTiming.value=='CRON'" fxLayout="row" fxLayoutAlign="space-evenly stretch" >
      <div class="infoButton" fxLayout="column" fxLayoutAlign="space-evenly left">
        <a mat-icon-button href="https://crontab.guru/" color="primary" target="_blank" ><mat-icon>info</mat-icon></a>
      </div>

      <div fxLayout="column" fxLayoutAlign="space-evenly center">
        <input matInput [defaultValue]="'*'" type="text" class="cron_styling">
        <p>Minute</p>
      </div>

      <div fxLayout="column" fxLayoutAlign="space-evenly center">
        <input matInput [defaultValue]="'*'" type="text" class="cron_styling">
        <p>Hour</p>
      </div>

      <div fxLayout="column" fxLayoutAlign="space-evenly center">
        <input matInput [defaultValue]="'*'" type="text" class="cron_styling">
        <p>Day (Month)</p>
      </div>

      <div fxLayout="column" fxLayoutAlign="space-evenly center">
        <input matInput [defaultValue]="'*'" type="text" class="cron_styling">
        <p>Month</p>
      </div>

      <div fxLayout="column" fxLayoutAlign="space-evenly center">
        <input matInput  [defaultValue]="'*'" type="text" class="cron_styling">
        <p>Day (Week)</p>
      </div>
    </div>
  </mat-card>

  <div style="margin-top: 10px">
    <button mat-raised-button color="primary">Add Destination</button>
  </div>

  <mat-card class="config_card" fxLayout="row" fxLayoutAlign="space-between center">
    FTP-IP:192.168.0.1
    <button mat-flat-button class="popupButton" color="primary" (click)="openConfig()"><mat-icon class="small">settings</mat-icon></button>
  </mat-card>
  <mat-expansion-panel style="margin-top: 10px" [expanded]="panelOpenStateConfig" *ngIf="renderButton">
    <div style="margin-top: 10px" fxLayout="row" fxLayoutAlign="space-between center">
      <div style="width: 80%" fxLayout="row" fxLayoutAlign="start center">
        <mat-form-field style="width: 20%">
          <mat-select #typeOfConfig value="FTP">
            <mat-option value="FTP">FTP</mat-option>
            <mat-option value="Local">Local</mat-option>
            <mat-option value="Rem. Folder">Rem. Folder</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field *ngIf="typeOfConfig.value=='FTP'" style="margin-left: 10px"><input matInput type="text" placeholder="IP" style="width: 20%;"></mat-form-field>

        <mat-form-field *ngIf="typeOfConfig.value=='FTP'" style="margin-left: 10px"><input matInput type="text" placeholder="Login" style="width: 20%;"></mat-form-field>

        <mat-form-field *ngIf="typeOfConfig.value=='FTP'" style="margin-left: 10px"><input matInput type="password" placeholder="Password" style="width: 20%;"></mat-form-field>

        <mat-form-field *ngIf="typeOfConfig.value!='FTP'" style="margin-left: 10px"><input matInput type="password" placeholder="Destination" style="width: 20%;"></mat-form-field>
      </div>
      <button fxFlexAlign="end center" mat-raised-button color="primary" (click)="openConfig()">Save</button>
    </div>
  </mat-expansion-panel>

</div>
