<div [style]="'width: ' + widthCalc() + 'px;' + 'height: ' + heightCalc() + 'px;'">
  <mat-toolbar class="toolbar" fxLayout="row" fxLayoutAlign="left space-evenly center">

    <mat-form-field class="toolbar-components">
      <input matInput type="text" placeholder="Name" [(ngModel)]="temp.name">
    </mat-form-field>

    <mat-form-field class="toolbar-components" fxFlexOffset="20px" color="primary">
      <mat-label>Intensity</mat-label>
      <mat-select [(ngModel)]="temp.intensity">
        <mat-option value="Full">Full</mat-option>
        <mat-option value="Differential">Differential</mat-option>
        <mat-option value="Incremental">Incremental</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field [style.width.%]="5" class="toolbar-components" fxFlexOffset="20px" color="primary">
      <mat-label>Retention</mat-label>
      <input matInput type="number" min="1" max="30" [defaultValue]="3" [(ngModel)]="temp.retention">
    </mat-form-field>

    <mat-form-field [style.width.%]="5" class="toolbar-components" fxFlexOffset="20px" color="primary" *ngIf="temp.intensity!=='Full'" [(ngModel)]="temp.package">
      <mat-label>Packages</mat-label>
      <input matInput type="number" min="1" max="30" [defaultValue]="3">
    </mat-form-field>

    <mat-form-field class="toolbar-components" fxFlexOffset="20px" color="primary">
      <mat-label>Backup Type</mat-label>
      <mat-select [(ngModel)]="temp.type">
        <mat-option value="raw">Plain Text</mat-option>
        <mat-option value="zip">Archive</mat-option>
      </mat-select>
    </mat-form-field>

    <span class="spacing"></span>
      <button mat-flat-button class="popupButton" color="primary" mat-dialog-close=""><mat-icon class="small">close</mat-icon></button>
  </mat-toolbar>

  <mat-card fxLayout="row" fxLayoutAlign="start stretch" [ngSwitch]="typeOfTiming.value">
    <div fxLayout="column" fxLayoutAlign="start start">
      <mat-form-field class="timing-components">
        <mat-select #typeOfTiming value="Daily">
          <mat-option value="Daily">Daily</mat-option>
          <mat-option value="Weekdays">Weekdays</mat-option>
          <mat-option value="month">Day in Month</mat-option>
          <mat-option value="CRON">CRON</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="timing-components" *ngIf="typeOfTiming.value!=='CRON'">
        <input matInput type="time">
      </mat-form-field>

      <mat-form-field class="timing-components">
        <mat-select [(ngModel)]="temp.timezone" placeholder="Timezone">
          <mat-option *ngFor="let timezone of Timezones" [value]="timezone">{{timezone}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div *ngSwitchCase="'Weekdays'">
      <app-day-selection-content></app-day-selection-content>
    </div>

    <div *ngSwitchCase="'month'" class="day-month">
      <app-day-in-month-selection-content></app-day-in-month-selection-content>
    </div>

    <div *ngSwitchCase="'CRON'">
      <app-cron-content></app-cron-content>
    </div>
  </mat-card>

  <app-config-destination-content class="destinations" [(destinations)]="temp.destinations"></app-config-destination-content>
  <app-config-source-content class="destinations" [(sources)]="temp.sources"></app-config-source-content>

  <mat-dialog-actions align="end">
    <button mat-raised-button color="primary" mat-dialog-close="" (click)="saveChanges()">Save</button>
  </mat-dialog-actions>
</div>
